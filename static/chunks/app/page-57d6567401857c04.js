(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4997:(e,t,n)=>{Promise.resolve().then(n.bind(n,8775))},8775:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var l=n(5155),a=n(2115),r=n(5249),s=n(4588),i=n(510),c=n(3068),o=n(1659),d=n(6934),u=n(816);function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function h(e){let{label:t,options:n,selected:r,onChangeAction:s}=e;return(0,l.jsx)(c.WF,{value:r,onChange:e=>{s(e)},children:e=>{let{open:s}=e;return(0,l.jsxs)("div",{children:[t?(0,l.jsx)(c.WF.Label,{className:m("block text-sm font-medium leading-6 text-gray-900"),children:t}):null,(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(c.WF.Button,{className:m("relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-600 sm:text-sm sm:leading-6"),children:[(0,l.jsx)("span",{className:m("block truncate"),children:r.label}),(0,l.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,l.jsx)(d.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,l.jsx)(o.e,{show:s,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)(c.WF.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:n.map(e=>(0,l.jsx)(c.WF.Option,{className:e=>{let{active:t}=e;return m(t?"bg-orange-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9")},value:e,children:t=>{let{selected:n,active:a}=t;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:m(n?"font-semibold":"font-normal","block truncate text-left"),children:e.label}),n?(0,l.jsx)("span",{className:m(a?"text-white":"text-orange-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:(0,l.jsx)(u.A,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.value))})})]})]})}})}var x=n(1573),p=n(7041),g=n(6205);function f(e){let{label:t,icon:n,defaultValue:a,type:r,onChangeAction:s,error:i,maxLength:c}=e;return(0,l.jsxs)("div",{children:[t?(0,l.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium leading-6 text-gray-900 mb-2 ",children:t}):null,(0,l.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,l.jsx)("input",{onChange:e=>s&&s(e.target.value),defaultValue:null!=a?a:"",type:null!=r?r:"text",name:"search",id:"search",maxLength:c,className:m("block w-full rounded-md border-0 py-1.5 pl-2 pr-10 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",i?"text-red-900 ring-red-300 placeholder:text-red-300 focus:ring-red-500":"text-gray-900 ring-gray-300 placeholder:text-gray-400 focus:ring-orange-600")}),i?(0,l.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,l.jsx)(p.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}):null,n?(0,l.jsxs)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:["search"===n?(0,l.jsx)(x.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):null,"user"===n?(0,l.jsx)(g.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):null]}):null]}),i?(0,l.jsx)("p",{className:"mt-2 text-sm text-red-600",id:"search",children:i}):null]})}let j=[{value:"h1",label:"Nadpis 1"},{value:"h2",label:"Nadpis 2"},{value:"h3",label:"Nadpis 3"},{value:"paragraph",label:"Odstavec"},{value:"end-of-excerpt",label:"Konec n\xe1hledu"}];function v(e){let{onChangeAction:t,item:n}=e,[r,s]=(0,a.useState)(j.find(e=>"paragraph"===e.value));return(0,a.useEffect)(()=>{n.type&&s("comment"===n.type&&"more"===n.content?j.find(e=>"end-of-excerpt"===e.value):j.find(e=>e.value===n.type))},[n.type]),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 w-full",children:[(0,l.jsx)("div",{className:"w-3xs",children:(0,l.jsx)(h,{options:j,onChangeAction:e=>{var l;s(e);let a=null==e?void 0:e.value;if(!a)return;let r=null!=(l=({h1:"h1",h2:"h2",h3:"h3",paragraph:"paragraph",image:"image",gallery:"gallery","end-of-excerpt":"comment"})["".concat(a)])?l:"paragraph",i={id:n.id,type:r};n&&"end-of-excerpt"===a&&(i.content="more"),t(i)},selected:r})}),"h1"===n.type?(0,l.jsx)("div",{className:"w-md",children:(0,l.jsx)(f,{defaultValue:null==n?void 0:n.content,maxLength:128,onChangeAction:e=>t({...n,content:e})})}):null,"h2"===n.type?(0,l.jsx)("div",{className:"w-md",children:(0,l.jsx)(f,{defaultValue:null==n?void 0:n.content,maxLength:128,onChangeAction:e=>t({...n,content:e})})}):null,"h3"===n.type?(0,l.jsx)("div",{className:"w-md",children:(0,l.jsx)(f,{defaultValue:null==n?void 0:n.content,maxLength:128,onChangeAction:e=>t({...n,content:e})})}):null,"paragraph"===n.type?(0,l.jsx)("div",{className:"w-md",children:(0,l.jsx)(f,{defaultValue:null==n?void 0:n.content,maxLength:128,onChangeAction:e=>t({...n,content:e})})}):null]})}function b(e){return{meta:e.meta,content:e.content.filter(e=>{var t;return null!=(t=e)&&null!=t.type&&(!["h1","h2","h3","paragraph","comment"].includes(t.type)||null!=t.content&&""!=t.content)}).map(e=>{let t={...e};return delete t.id,t})}}function y(e){let{disabledLabel:t,enabledLabel:n,enabled:a,onChange:r}=e;return(0,l.jsxs)("div",{className:"flex gap-1 rounded-full bg-gray-950/5 p-1",role:"tablist",children:[(0,l.jsx)("button",{className:m("group flex items-center rounded-full px-4 text-sm/7 font-medium cursor-pointer",a?"":"bg-white ring ring-gray-950/5"),role:"tab",type:"button",tabIndex:a?-1:0,onClick:()=>r(!a),children:t}),(0,l.jsx)("button",{className:m("group flex items-center rounded-full px-4 text-sm/7 font-medium cursor-pointer",a?"bg-white ring ring-gray-950/5":""),role:"tab",type:"button",tabIndex:a?0:-1,onClick:()=>r(!a),children:n})]})}function N(e){let{blogPost:t}=e,[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)("{}");return(0,a.useEffect)(()=>{i(JSON.stringify(b(t),null,4))},[t]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"pt-1 pb-1 float-right",children:(0,l.jsx)(y,{disabledLabel:"Config",enabledLabel:"N\xe1hled",enabled:n,onChange:e=>r(e)})}),(0,l.jsx)("code",{className:"whitespace-pre-wrap p-1 font-mono",children:s})]})}function w(){let[e,t]=(0,a.useState)({meta:{date:function(e){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(l)}(new Date),title:"Blata ".concat(new Date().getFullYear())},content:[]}),n=e=>{t(t=>{let n=[...t.content],l={id:crypto.randomUUID(),type:"paragraph"};if(null==e)n.push(l);else{let t=n.findIndex(t=>t.id===e)+1;n.splice(t,0,l)}return{meta:t.meta,content:n}})},c=e=>{t(t=>({meta:t.meta,content:t.content.filter(t=>t.id!==e)}))};return(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"w-1/2 p-4 overflow-y-scroll",style:{height:"100vh"},children:[(0,l.jsxs)("div",{className:"flex flex-col border-b border-gray-300 pt-4 pb-4",children:[(0,l.jsx)("div",{className:"w-md",children:(0,l.jsx)(f,{label:"Titulek (souč\xe1st\xed URL, vynech diakritiku)",defaultValue:e.meta.title,maxLength:64,onChangeAction:e=>t(t=>{let n={...t};return n.meta.title=e,n})})}),(0,l.jsx)("div",{className:"w-md pt-4",children:(0,l.jsx)(f,{label:"Datum čl\xe1nku (YYYY-MM-DD)",defaultValue:e.meta.date,maxLength:10,onChangeAction:e=>t(t=>{let n={...t};return n.meta.date=e,n})})})]}),e.content.map(e=>(0,l.jsxs)("div",{className:"flex border-b border-gray-300 pt-4 pb-4",children:[(0,l.jsx)("a",{onClick:()=>c(e.id),className:"mt-1 mr-1 cursor-pointer text-red-600",title:"Odebrat",children:(0,l.jsx)(s.A,{})}),(0,l.jsx)("a",{onClick:()=>n(e.id),className:"mt-1 mr-1 cursor-pointer text-green-900",title:"Přidat",children:(0,l.jsx)(r.A,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(v,{item:e,onChangeAction:n=>{t(t=>({meta:t.meta,content:t.content.map(t=>t.id===e.id?n:t)}))}})})]},e.id)),(0,l.jsxs)("div",{className:"flex w-full justify-end pt-10",children:[(0,l.jsx)("a",{onClick:()=>n(null),className:"cursor-pointer p-2 text-green-900 mr-8",title:"Přidat",children:(0,l.jsx)(r.A,{style:{transform:"scale(1.5)"}})}),(0,l.jsxs)("a",{onClick:()=>{console.log(b(e))},className:"cursor-pointer p-2 mr-8 border rounded-md bg-gray-100",title:"St\xe1hnout čl\xe1nek",children:[(0,l.jsx)(i.A,{className:"mr-2",style:{transform:"scale(1.5)"}}),"st\xe1hnout"]})]})]}),(0,l.jsx)("div",{className:"w-1/2 pl-4 pr-4 pb-4 bg-gray-100 overflow-y-scroll",style:{height:"100vh"},children:(0,l.jsx)(N,{blogPost:e})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[545,674,441,684,358],()=>t(4997)),_N_E=e.O()}]);