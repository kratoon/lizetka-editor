(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4997:(e,t,l)=>{Promise.resolve().then(l.bind(l,9137))},9137:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>A});var n=l(5155),a=l(2115),s=l(5249),r=l(4588),i=l(510),c=l(3068),o=l(1659),d=l(6934),u=l(816);function m(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter(Boolean).join(" ")}function h(e){let{label:t,options:l,selected:s,onChangeAction:r}=e;return(0,n.jsx)(c.WF,{value:s,onChange:e=>{r(e)},children:e=>{let{open:r}=e;return(0,n.jsxs)("div",{children:[t?(0,n.jsx)(c.WF.Label,{className:m("block text-sm font-medium leading-6 text-gray-900"),children:t}):null,(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)(c.WF.Button,{className:m("relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-600 sm:text-sm sm:leading-6"),children:[(0,n.jsx)("span",{className:m("block truncate"),children:s.label}),(0,n.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,n.jsx)(d.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,n.jsx)(o.e,{show:r,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(c.WF.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:l.map(e=>(0,n.jsx)(c.WF.Option,{className:e=>{let{active:t}=e;return m(t?"bg-orange-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9")},value:e,children:t=>{let{selected:l,active:a}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:m(l?"font-semibold":"font-normal","block truncate text-left"),children:e.label}),l?(0,n.jsx)("span",{className:m(a?"text-white":"text-orange-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:(0,n.jsx)(u.A,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.value))})})]})]})}})}var x=l(1573),p=l(7041),g=l(6205);function f(e){let{label:t,icon:l,defaultValue:a,type:s,onChangeAction:r,error:i,maxLength:c}=e;return(0,n.jsxs)("div",{children:[t?(0,n.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium leading-6 text-gray-900 mb-2 ",children:t}):null,(0,n.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,n.jsx)("input",{onChange:e=>r&&r(e.target.value),defaultValue:null!=a?a:"",type:null!=s?s:"text",name:"search",id:"search",maxLength:c,className:m("block w-full rounded-md border-0 py-1.5 pl-2 pr-10 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",i?"text-red-900 ring-red-300 placeholder:text-red-300 focus:ring-red-500":"text-gray-900 ring-gray-300 placeholder:text-gray-400 focus:ring-orange-600")}),i?(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,n.jsx)(p.A,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}):null,l?(0,n.jsxs)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:["search"===l?(0,n.jsx)(x.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):null,"user"===l?(0,n.jsx)(g.A,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}):null]}):null]}),i?(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",id:"search",children:i}):null]})}let j=[{value:"h1",label:"Nadpis 1"},{value:"h2",label:"Nadpis 2"},{value:"h3",label:"Nadpis 3"},{value:"paragraph",label:"Odstavec"},{value:"end-of-excerpt",label:"Konec n\xe1hledu"}];function b(e){let{onChangeAction:t,item:l}=e,[s,r]=(0,a.useState)(j.find(e=>"paragraph"===e.value));return(0,a.useEffect)(()=>{l.type&&r("comment"===l.type&&"more"===l.content?j.find(e=>"end-of-excerpt"===e.value):j.find(e=>e.value===l.type))},[l.type]),(0,n.jsxs)("div",{className:"flex flex-wrap gap-1 w-full",children:[(0,n.jsx)("div",{className:"w-3xs",children:(0,n.jsx)(h,{options:j,onChangeAction:e=>{var n;r(e);let a=null==e?void 0:e.value;if(!a)return;let s=null!=(n=({h1:"h1",h2:"h2",h3:"h3",paragraph:"paragraph",image:"image",gallery:"gallery","end-of-excerpt":"comment"})["".concat(a)])?n:"paragraph",i={id:l.id,type:s};l&&"end-of-excerpt"===a&&(i.content="more"),t(i)},selected:s})}),"h1"===l.type?(0,n.jsx)("div",{className:"w-md",children:(0,n.jsx)(f,{defaultValue:null==l?void 0:l.content,maxLength:128,onChangeAction:e=>t({...l,content:e})})}):null,"h2"===l.type?(0,n.jsx)("div",{className:"w-md",children:(0,n.jsx)(f,{defaultValue:null==l?void 0:l.content,maxLength:128,onChangeAction:e=>t({...l,content:e})})}):null,"h3"===l.type?(0,n.jsx)("div",{className:"w-md",children:(0,n.jsx)(f,{defaultValue:null==l?void 0:l.content,maxLength:128,onChangeAction:e=>t({...l,content:e})})}):null,"paragraph"===l.type?(0,n.jsx)("div",{className:"w-md",children:(0,n.jsx)(f,{defaultValue:null==l?void 0:l.content,onChangeAction:e=>t({...l,content:e})})}):null]})}function v(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{meta:e.meta,content:e.content.filter(e=>{var t;return null!=(t=e)&&null!=t.type&&(!["h1","h2","h3","paragraph","comment"].includes(t.type)||null!=t.content&&""!=t.content)}).map(e=>{let l={...e};return t||delete l.id,l})}}function y(e){let{disabledLabel:t,enabledLabel:l,enabled:a,onChange:s}=e;return(0,n.jsxs)("div",{className:"flex gap-1 rounded-full bg-gray-950/5 p-1",role:"tablist",children:[(0,n.jsx)("button",{className:m("group flex items-center rounded-full px-4 text-sm/7 font-medium cursor-pointer",a?"":"bg-white ring ring-gray-950/5"),role:"tab",type:"button",tabIndex:a?-1:0,onClick:()=>s(!a),children:t}),(0,n.jsx)("button",{className:m("group flex items-center rounded-full px-4 text-sm/7 font-medium cursor-pointer",a?"bg-white ring ring-gray-950/5":""),role:"tab",type:"button",tabIndex:a?0:-1,onClick:()=>s(!a),children:l})]})}function N(e){let{blogPost:t}=e,[l,s]=(0,a.useState)(!0);return(0,n.jsxs)("div",{className:"flex flex-wrap",children:[(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)("div",{className:"pt-1 pb-1 float-right",children:(0,n.jsx)(y,{disabledLabel:"Config",enabledLabel:"N\xe1hled",enabled:l,onChange:e=>s(e)})})}),l?(0,n.jsx)(k,{blogPost:t}):(0,n.jsx)(w,{blogPost:t})]})}function w(e){let{blogPost:t}=e;return(0,n.jsx)("code",{className:"whitespace-pre-wrap p-1 font-mono",children:JSON.stringify(v(t),null,4)})}function k(e){let{blogPost:t}=e;return(0,n.jsx)("div",{className:"flex flex-wrap p-1 w-full",children:v(t,!0).content.map(e=>(0,n.jsxs)("div",{className:"w-full",children:["h1"===e.type?(0,n.jsx)("h1",{className:"text-4xl font-bold",children:e.content}):null,"h2"===e.type?(0,n.jsx)("h2",{className:"text-3xl font-semibold",children:e.content}):null,"h3"===e.type?(0,n.jsx)("h3",{className:"text-2xl font-medium",children:e.content}):null,"h4"===e.type?(0,n.jsx)("h4",{className:"text-xl font-medium",children:e.content}):null,"paragraph"===e.type?(0,n.jsx)("p",{className:"mb-5",children:e.content}):null,"comment"===e.type?(0,n.jsx)(C,{}):null]},e.id))})}function C(){return(0,n.jsxs)("div",{className:"relative mb-5",children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,n.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,n.jsx)("div",{className:"relative flex justify-center",children:(0,n.jsx)("span",{className:"bg-gray-100 px-2 text-sm text-gray-500",children:"konec n\xe1hledu"})})]})}function A(){let[e,t]=(0,a.useState)({meta:{date:function(e){let t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(l,"-").concat(n)}(new Date),title:"Blata ".concat(new Date().getFullYear())},content:[]}),l=e=>{t(t=>{let l=[...t.content],n={id:crypto.randomUUID(),type:"paragraph"};if(null==e)l.push(n);else{let t=l.findIndex(t=>t.id===e)+1;l.splice(t,0,n)}return{meta:t.meta,content:l}})},c=e=>{t(t=>({meta:t.meta,content:t.content.filter(t=>t.id!==e)}))};return(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"w-1/2 p-4 overflow-y-scroll",style:{height:"100vh"},children:[(0,n.jsxs)("div",{className:"flex flex-col border-b border-gray-300 pt-4 pb-4",children:[(0,n.jsx)("div",{className:"w-md",children:(0,n.jsx)(f,{label:"Titulek (souč\xe1st\xed URL, vynech diakritiku)",defaultValue:e.meta.title,maxLength:64,onChangeAction:e=>t(t=>{let l={...t};return l.meta.title=e,l})})}),(0,n.jsx)("div",{className:"w-md pt-4",children:(0,n.jsx)(f,{label:"Datum čl\xe1nku (YYYY-MM-DD)",defaultValue:e.meta.date,maxLength:10,onChangeAction:e=>t(t=>{let l={...t};return l.meta.date=e,l})})})]}),e.content.map(e=>(0,n.jsxs)("div",{className:"flex border-b border-gray-300 pt-4 pb-4",children:[(0,n.jsx)("a",{onClick:()=>c(e.id),className:"mt-1 mr-1 cursor-pointer text-red-600",title:"Odebrat",children:(0,n.jsx)(r.A,{})}),(0,n.jsx)("a",{onClick:()=>l(e.id),className:"mt-1 mr-1 cursor-pointer text-green-900",title:"Přidat",children:(0,n.jsx)(s.A,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(b,{item:e,onChangeAction:l=>{t(t=>({meta:t.meta,content:t.content.map(t=>t.id===e.id?l:t)}))}})})]},e.id)),(0,n.jsxs)("div",{className:"flex w-full justify-end pt-10",children:[(0,n.jsx)("a",{onClick:()=>l(null),className:"cursor-pointer p-2 text-green-900 mr-8",title:"Přidat",children:(0,n.jsx)(s.A,{style:{transform:"scale(1.5)"}})}),(0,n.jsxs)("a",{onClick:()=>{!function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",n=new Blob([e],{type:l}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}(JSON.stringify(v(e),null,4),"".concat(e.meta.date,".json"))},className:"cursor-pointer p-2 mr-8 border rounded-md bg-gray-100",title:"St\xe1hnout čl\xe1nek",children:[(0,n.jsx)(i.A,{className:"mr-2",style:{transform:"scale(1.5)"}}),"st\xe1hnout"]})]})]}),(0,n.jsx)("div",{className:"w-1/2 pl-4 pr-4 pb-4 bg-gray-100 overflow-y-scroll",style:{height:"100vh"},children:(0,n.jsx)(N,{blogPost:e})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[545,674,441,684,358],()=>t(4997)),_N_E=e.O()}]);